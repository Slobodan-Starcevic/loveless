---
import { links } from '../../utils/links'

type Props = {

}

const {} = Astro.props

---
<script lang="ts">
    function addAnimation() {
    const scrollers2 = document.querySelectorAll(".scroller2");
    scrollers2.forEach((scroller) => {
      const scrollerInner = scroller.querySelector(".scroller2-inner");
      const scrollerContent = Array.from(scrollerInner.children);

      scrollerContent.forEach((item) => {
        const duplicatedItem = item.cloneNode(true);
        duplicatedItem.setAttribute("aria-hidden", true);
        scrollerInner.appendChild(duplicatedItem);
      });
    });
  }
  
  document.addEventListener('DOMContentLoaded', addAnimation);
</script>
<section class="section-wrapper bg-insta color-pink">
    <div class="cic">
        <div class="content-wrapper">
            <div class="header-wrapper">
                <div class="line-1">
                    <h1 class="stroke-special line-hover">JOIN</h1>
                    <h1 class="stroke-special line-hover">THE</h1>
                </div>
                <div class="line-2">
                    <!-- <a href={links.instagram} target="_blank">
                        <img src="/images/gram.svg" alt="" loading="lazy">
                        <img src="/images/arrow.svg" id="link-arrow" alt="" loading="lazy">
                    </a> -->
                    <h1 class="stroke-special line-hover">INSTAGRAM</h1>
                    <h1 class="stroke-special line-hover">COMMUNITY</h1>
                </div>
            </div>
            <div class="scroller2">
                <a href={links.instagram} target="_blank">
                    <div class="scroller2-inner">
                        <img src="/images/insta1.jpg" alt="" loading="lazy">
                        <img src="/images/insta2.jpg" alt="" loading="lazy">
                        <img src="/images/insta3.jpg" alt="" loading="lazy">
                        <img src="/images/insta4.jpg" alt="" loading="lazy">
                        <img src="/images/insta5.jpg" alt="" loading="lazy">
                        <img src="/images/insta6.jpg" alt="" loading="lazy">
                    </div>
                </a>
            </div>
            <div class="empty"></div>
        </div>
    </div>
</section>

<style lang="scss">

.content-wrapper{
    position: inherit;
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.header-wrapper{
    color: var(--loveless-black);
    overflow: hidden;
    width: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: default;
    
    .line-1{
        display: flex;
        gap: var(--spacing-l);
    }

    .line-2{
        display: flex;
        gap: var(--spacing-l);
        overflow: visible;
        a{
            text-decoration: none;
            display: flex;
            gap: var(--spacing-l);
            overflow: visible;
        }
        img{
            height: var(--font-size-4xl);
        }
        #link-arrow{
            margin-right: var(--spacing-xs);
            transition: transform 0.3s var(--custom-ease-1), animation 0.3s var();
            animation: arrow 3s ease-in-out infinite;
            &:hover{
                transform: scale(1.2);
            }
        }
    }
    .line-hover:hover{
        color: #DA01D3;
        text-shadow: none;
    }
}
.scroller2{
    max-width: 100%;
    margin: var(--spacing-2xl) 0;
    overflow: hidden;
    position: relative;

    .scroller2-inner{
        display: flex;
        gap: var(--spacing-l);
        width: max-content;
        animation: scroll2 var(--_animation-duration, 20s) var(--_animation-direction, forwards) linear infinite;

        img{
            width: 350px;
            min-width: 350px;
            height: 350px;
            min-height: 350px;
            object-fit: cover;
        }
    }
}

@keyframes scroll2 {
  to {
    transform: translate(calc(-50% - 0.75rem));
  }
}

@keyframes arrow {
    0% {
        transform: translateX(-0.25rem);
    }
    50% {
        transform: translateX(0.375rem);
    }
    100% {
        transform: translateX(-0.25rem);
    }
}

.empty {
    flex: 1;
    overflow: visible;
}




</style>